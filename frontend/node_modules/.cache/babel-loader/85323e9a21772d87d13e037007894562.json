{"remainingRequest":"/var/www/html/klopaba/frontend/node_modules/babel-loader/lib/index.js!/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/klopaba/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/klopaba/frontend/src/components/Grad.vue?vue&type=script&lang=js","dependencies":[{"path":"/var/www/html/klopaba/frontend/src/components/Grad.vue","mtime":1690127384333},{"path":"/var/www/html/klopaba/frontend/babel.config.js","mtime":1662887822653},{"path":"/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1663519176030},{"path":"/var/www/html/klopaba/frontend/node_modules/babel-loader/lib/index.js","mtime":1663519178002},{"path":"/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1663519176030},{"path":"/var/www/html/klopaba/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1663519177866}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi92YXIvd3d3L2h0bWwva2xvcGFiYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwva2xvcGFiYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgTmF2YmFyIGZyb20gJ0AvY29tcG9uZW50cy9JbmNsdWRlcy9OYXZiYXIudnVlJzsKaW1wb3J0IEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvSW5jbHVkZXMvRm9vdGVyLnZ1ZSc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZSc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHcmFkIiwKICBjb21wb25lbnRzOiB7CiAgICBOYXZiYXI6IE5hdmJhciwKICAgIEZvb3RlcjogRm9vdGVyLAogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNsdWc6IHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnLnJlcGxhY2UoLyg/Ol58XHN8LSlcUy9nLCBmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnRvVXBwZXJDYXNlKCk7CiAgICAgIH0pLnNwbGl0KCctJykuam9pbignICcpLAogICAgICBzZWFyY2hWYWx1ZTogJycsCiAgICAgIGlzTG9hZGluZzogdHJ1ZSwKICAgICAgc3ZpUmVzdG9yYW5pOiB0aGlzLiRzdG9yZS5zdGF0ZS5ncmVzdG9yYW4sCiAgICAgIGdyYWRTbHVnczogdGhpcy4kc3RvcmUuc3RhdGUuZ3JhZFNsdWcsCiAgICAgIHNsdWdzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ2dldFJlc3RvcmFuUG9HcmFkdScsICdnZXRSYW5kb21SZXN0b3JhblBvR3JhZHUnLCAnZ2V0R3JhZG92ZSddKSksIHt9LCB7CiAgICBnZXRBdmVyYWdlOiBmdW5jdGlvbiBnZXRBdmVyYWdlKHJhdGUpIHsKICAgICAgdmFyIGF2ZXJhZ2UgPSBmdW5jdGlvbiBhdmVyYWdlKGFycikgewogICAgICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChwLCBjKSB7CiAgICAgICAgICByZXR1cm4gcCArIGM7CiAgICAgICAgfSwgMCkgLyBhcnIubGVuZ3RoOwogICAgICB9OwoKICAgICAgdmFyIHJlc3VsdCA9IGF2ZXJhZ2UocmF0ZSk7IC8vIDUgIAoKICAgICAgcmV0dXJuIHJlc3VsdC50b0ZpeGVkKDEpOyAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgfSwKICAgIHVybENoZWNrOiBmdW5jdGlvbiB1cmxDaGVjaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5ncmFkU2x1Z3MuaW5jbHVkZXMoX3RoaXMuJHJvdXRlLnBhcmFtcy5zbHVnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdub3Rmb3VuZCcKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydyZXN0b3JhblBvR3JhZHUnLCAncmFuZG9tUmVzdG9yYW4nLCAnc3ZpR3JhZG92aSddKSksIHt9LCB7CiAgICBmaWx0ZXJlZDogZnVuY3Rpb24gZmlsdGVyZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgc3ZpUmVzdG9yYW5pID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3Jlc3RvcmFuOwoKICAgICAgICBpZiAoc3ZpUmVzdG9yYW5pKSB7CiAgICAgICAgICByZXR1cm4gc3ZpUmVzdG9yYW5pLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS5yZXN0b3Jhbi50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKF90aGlzMi5zZWFyY2hWYWx1ZS50b1VwcGVyQ2FzZSgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN0b3JhblBvR3JhZHU7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0UmVzdG9yYW5Qb0dyYWR1KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMzLmdldFJhbmRvbVJlc3RvcmFuUG9HcmFkdSgpOwoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRHcmFkb3ZlKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMudXJsQ2hlY2soKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLmdldEdyYWRTbHVnKCkKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS5ncmVzdG9yYW4pOwogICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gIktsb3BhLmJhIHwgU3ZpIHBvZGFjaSBvICIuY29uY2F0KF90aGlzMy5zbHVnLCAiIHwgUHJvbmFcdTAxMTFpdGUgbmFqYm9samkgbG9rYWwgemEgdmFzIik7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["Navbar","Footer","Loading","mapActions","mapGetters","name","components","data","slug","$route","params","replace","x","toUpperCase","split","join","searchValue","isLoading","sviRestorani","$store","state","grestoran","gradSlugs","gradSlug","slugs","methods","getAverage","rate","average","arr","reduce","p","c","length","result","toFixed","urlCheck","includes","$router","push","computed","filtered","filter","restoran","restoranPoGradu","error","console","log","created","getRestoranPoGradu","getRandomRestoranPoGradu","getGradove","document","title","setTimeout"],"sourceRoot":"","sources":["/var/www/html/klopaba/frontend/src/components/Grad.vue"],"sourcesContent":["<template>\r\n    <Loading v-if=\"isLoading\"/>\r\n    \r\n    <div class=\"grad-content\" v-else>\r\n        <Navbar />\r\n\r\n        <!-- Random lokal na Klopa.ba -->\r\n        <div class=\"random-restoran\">\r\n\r\n            <div class=\"restoran-header container\">\r\n                <h4 class=\"restoran-header-title\">\r\n                    <strong>Klopa.ba</strong> izbor za vas u {{ this.slug }}\r\n                </h4>\r\n            </div>\r\n\r\n            <div v-for=\"restoran in randomRestoran\" :key=\"restoran.id\" class=\"container\">\r\n\r\n                    <router-link v-if=\"restoran.aktivni\" :to=\"{ name: 'detaljno', params: { slug: restoran.slug } }\" class=\"restoran-link\">\r\n                        <div class=\"restoran-card\">\r\n                            <div class=\"restoran-image\">\r\n                                <img :src=\"'/images/' + restoran.grad.split(' ').join('-').toLowerCase() + '/' + restoran.slug + '.jpg'\" :alt=\"restoran.restoran\" class=\"restoran-slika\">\r\n                            </div>\r\n                            <div class=\"restoran-body\">\r\n                                <div class=\"restoran-title\">\r\n                                    <i class=\"far fa-address-card\"></i> \r\n                                    <p class=\"restoran-text\">{{ restoran.restoran }}</p> \r\n                                </div>\r\n                                <div class=\"restoran-adresa\">\r\n                                    <i class=\"fa-solid fa-map-location\"></i>\r\n                                    <p class=\"restoran-text\">{{ restoran.podaci.adresa }}</p>  \r\n                                </div>\r\n                                <div class=\"restoran-rating\" v-if=\"restoran.rating\">\r\n                                    <i class=\"fas fa-star\"></i> \r\n                                    <p class=\"restoran-text\">{{ getAverage(restoran.rating) }}</p>  \r\n                                </div>\r\n    \r\n                            </div>\r\n                        </div>\r\n                    </router-link>\r\n        \r\n            </div>\r\n        </div>\r\n        <div class=\"parallax\"></div>\r\n\r\n\r\n        <!-- Lista svih lokala u gradu | Klopa.ba -->\r\n        <div class=\"restorani-main\" id=\"restoranLista\">\r\n\r\n            <div class=\"restoran-header container\">\r\n                <h4 class=\"restoran-header-title\">\r\n                    Najbolji lokali u gradu {{ this.slug }}\r\n                </h4>\r\n            </div>\r\n\r\n            <div class=\"search-bar container\">\r\n                <nav class=\"navbar navbar-light p-2\">\r\n                    <form class=\"form search-form\" @submit.prevent>\r\n                        <input class=\"form-control mr-sm-2\" v-model=\"searchValue\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\r\n                        <button class=\"btn search-btn\" type=\"submit\">\r\n                            <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                        </button>\r\n                    </form>\r\n                </nav>\r\n            </div>\r\n\r\n            <div class=\"container klopa-top\" v-if=\"filtered\">\r\n                <div v-for=\"item in filtered.slice(0,10)\" :key=\"item.id\">\r\n                        <router-link :to=\"{ name: 'detaljno', params: { slug: item.slug } }\" class=\"restoran-link\">\r\n                            <div class=\"restoran-card\">\r\n                                <div class=\"restoran-image\">\r\n                                    <img :src=\"'/images/' + item.grad.split(' ').join('-').toLowerCase() + '/' + item.slug + '.jpg'\" :alt=\"item.restoran\" class=\"restoran-slika\">\r\n                                </div>\r\n                                <div class=\"restoran-body\">\r\n                                    <div class=\"restoran-title\">\r\n                                        <i class=\"far fa-address-card\"></i> \r\n                                        <p class=\"restoran-text\">\r\n                                            {{ item.restoran }}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"restoran-adresa\">\r\n                                        <i class=\"fa-solid fa-map-location\"></i>\r\n                                        <p class=\"restoran-text\">\r\n                                            {{ item.podaci.adresa }}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"restoran-rating\" v-if=\"item.rating\">\r\n                                        <i class=\"fas fa-star\"></i> \r\n                                        <p class=\"restoran-text\">\r\n                                            {{ getAverage(item.rating) }}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </router-link>\r\n                </div>\r\n            </div>\r\n            <div class=\"restoran-reklama container\">\r\n                <div class=\"reklama-info\">\r\n                    <h2 class=\"reklama-title p-3\">\r\n                        Da li želite da se i vaš lokal nalazi na <strong>Klopa.ba</strong>?\r\n                    </h2>\r\n                    <h2 class=\"reklama-title p-3\">\r\n                        Prijavite se <router-link :to=\"{ name: 'prijava' }\">ovdje</router-link> \r\n                    </h2>\r\n                </div>\r\n                <div class=\"reklama-img\">\r\n                    <img src=\"../assets/klopa-reklama-1.jpg\" alt=\"\" class=\"reklama-slika\">\r\n                </div>\r\n            </div> \r\n            <div  class=\"container klopa-top\" v-if=\"filtered\">\r\n                <div v-for=\"(item, index) in filtered.slice(10,50)\" :key=\"index\">\r\n                        <router-link :to=\"{ name: 'detaljno', params: { slug: item.slug } }\" class=\"restoran-link\">\r\n                            <div class=\"restoran-card\">\r\n                                    <div class=\"restoran-image\">\r\n                                    <img :src=\"'/images/' + item.grad.split(' ').join('-').toLowerCase() + '/' + item.slug + '.jpg'\" :alt=\"item.restoran\" class=\"restoran-slika\">\r\n                                </div>\r\n                                <div class=\"restoran-body\">\r\n                                    <div class=\"restoran-title\">\r\n                                        <i class=\"far fa-address-card\"></i> \r\n                                        <p class=\"restoran-text\">\r\n                                            {{ item.restoran }}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"restoran-adresa\">\r\n                                        <i class=\"fa-solid fa-map-location\"></i>\r\n                                        <p class=\"restoran-text\">\r\n                                            {{ item.podaci.adresa }}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"restoran-rating\" >\r\n                                        <i class=\"fas fa-star\"></i> \r\n                                        <p class=\"restoran-text\" v-if=\"item.rating\">\r\n                                            {{ getAverage(item.rating) }}\r\n                                        </p>\r\n                                        <p class=\"restoran-text\" v-else>\r\n                                            0\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <Footer />\r\n    </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Includes/Navbar.vue';\r\nimport Footer from '@/components/Includes/Footer.vue';\r\nimport Loading from '@/components/Loading.vue'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    name: \"Grad\",\r\n    components: {\r\n        Navbar,\r\n        Footer,\r\n        Loading\r\n    },\r\n    data() {\r\n        return {\r\n            slug: this.$route.params.slug.replace(/(?:^|\\s|-)\\S/g, x => x.toUpperCase()).split('-').join(' '),\r\n            searchValue: '',\r\n            isLoading: true,\r\n            sviRestorani: this.$store.state.grestoran,\r\n            gradSlugs: this.$store.state.gradSlug,\r\n            slugs: []\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(['getRestoranPoGradu', 'getRandomRestoranPoGradu', 'getGradove']),\r\n        getAverage(rate) {\r\n            const average = arr => arr.reduce( ( p, c ) => p + c, 0 ) / arr.length;\r\n            const result = average( rate ); // 5  \r\n            return result.toFixed(1);\r\n            // console.log(result);\r\n        },\r\n        async urlCheck() {\r\n            if(this.gradSlugs.includes(this.$route.params.slug)) {\r\n                return true\r\n            } else {\r\n                return this.$router.push({ name: 'notfound'})\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapGetters(['restoranPoGradu', 'randomRestoran', 'sviGradovi']),\r\n        filtered() {\r\n            try {\r\n                let sviRestorani = this.$store.state.grestoran\r\n\r\n                if (sviRestorani) {\r\n                    return sviRestorani.filter((data) => {\r\n                        return data.restoran.toUpperCase().includes(this.searchValue.toUpperCase())\r\n                    })   \r\n                } else {\r\n                    return this.restoranPoGradu\r\n                }\r\n            \r\n            } catch (error) {\r\n                return console.log(error);\r\n            }\r\n        },\r\n\r\n    },\r\n    async created() {\r\n        await this.getRestoranPoGradu()\r\n        this.getRandomRestoranPoGradu()\r\n        await this.getGradove()\r\n        await this.urlCheck()\r\n        // await this.getGradSlug()\r\n        // console.log(this.$store.state.grestoran);\r\n        document.title = `Klopa.ba | Svi podaci o ${this.slug} | Pronađite najbolji lokal za vas`\r\n        setTimeout(() => {\r\n            this.isLoading = false\r\n        }, 2000)\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.grad-content {\r\n    height: 100%;\r\n}\r\n\r\n.klopa-top {\r\n    margin-top: 2%;\r\n    margin-bottom: 2%;\r\n}\r\n\r\n.random-restoran {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    background-size: cover;\r\n    background-position: center;\r\n    \r\n}\r\n\r\n.random-restoran .restoran-card {\r\n    height: 100%;\r\n    margin-top: 5%;\r\n    box-shadow: 0.3rem 0.3rem 1rem rgba(24, 38, 40, 0.5)!important;\r\n\r\n}\r\n\r\n.random-restoran .restoran-image{\r\n    width: 100%;\r\n}\r\n\r\n\r\n.restoran-link {\r\n    text-decoration: none;\r\n    \r\n}\r\n\r\n.restoran-link:hover .restoran-card {\r\n    box-shadow: 0.3rem 0.3rem 1rem rgba(24, 38, 40, 0.9)!important;\r\n}\r\n\r\n.restorani-main {\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-size: cover;\r\n    background-position: center;\r\n}\r\n\r\n.restoran-header {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 5%;\r\n    background-color: #f2d349;\r\n    padding: 1.5rem;\r\n}\r\n\r\n.restoran-header .restoran-header-title {\r\n    color: #182628;\r\n    font-size: 2.5rem;\r\n    font-weight: bold;\r\n}\r\n\r\n.restoran-card {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 2%;\r\n    margin-bottom: 2%;\r\n    padding: 1rem;\r\n    border: 5px outset #f2d349;\r\n    background-color: rgba(244, 244, 244, 0.9);\r\n    box-shadow: 0.3rem 0.3rem 1rem rgba(24, 38, 40, 0.5)!important;\r\n}\r\n\r\n.restoran-image img {\r\n    height: 200px;\r\n    display: block;\r\n    margin: auto;\r\n    width: 300px;\r\n    max-width: 100%;\r\n}\r\n\r\n.restoran-body {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 2%;\r\n}\r\n\r\n.restoran-title, .restoran-adresa, .restoran-rating {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.restoran-title svg {\r\n    color: #3498DB;\r\n}\r\n.restoran-adresa svg {\r\n    color: #008000;\r\n}\r\n.restoran-rating svg {\r\n    color: lightcoral;\r\n}\r\n\r\n.restoran-text {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 15px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #182628;\r\n    \r\n}\r\n\r\n/* Reklama Klopa.ba */\r\n.restoran-reklama {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 300px;\r\n    background: #f2d349;\r\n    background-size: cover;\r\n    color: #000;\r\n}\r\n\r\n.restoran-reklama .reklama-info, .reklama-img {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.restoran-reklama .reklama-info {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding: 10px;\r\n}\r\n\r\n.restoran-reklama .reklama-title {\r\n    font-size: 1.8rem;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n.restoran-reklama .reklama-slika {\r\n    max-width: 100%;\r\n    height: 100%;\r\n    padding: 5px;\r\n    display: block;\r\n    margin: auto;\r\n}\r\n\r\n.search-form  {\r\n    display: flex;\r\n    width: 50%;\r\n    box-shadow: 0.3rem 0.3rem 1rem rgba(255, 255, 255, 0.5)!important;\r\n    border: 2px solid rgba(24, 38, 40, 0.5);\r\n    border-top-right-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n}\r\n\r\n.search-form input {\r\n    border-radius: 0%;\r\n}\r\n\r\n.search-form .search-btn {\r\n    background-color: #f4f4f4;\r\n    width: 50px;\r\n    background-color: #000;\r\n}\r\n\r\n.search-form .search-btn svg {\r\n    color: #f2d349;\r\n    height: 100%;\r\n}\r\n\r\n@media screen and (max-width: 349px) {\r\n    .restoran-header {\r\n        margin-top: 25%;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.3em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n        margin-top: 15%;\r\n    }\r\n    .restoran-text {\r\n        font-size: 1em;\r\n    }\r\n    .restoran-image img {\r\n        max-width: 100%;\r\n        margin: auto;\r\n        height: 200px;\r\n        width: 200px;\r\n    }\r\n    .random-restoran .restoran-image {\r\n        height: auto;\r\n    }\r\n    .restoran-body {\r\n        margin-top: 3%;\r\n    }\r\n    .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n        .restoran-reklama {\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n    .restoran-reklama .reklama-slika {\r\n        height: auto;\r\n    }\r\n    .search-form {\r\n        width: 100%;\r\n    }\r\n       .pointer-content a {\r\n        position: relative;\r\n        top: 90%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 350px) and (max-width: 480px) {\r\n    .restoran-header {\r\n        margin-top: 25%;\r\n    }\r\n    .random-restoran {\r\n        height: auto;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.3em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n        margin-top: 15%;\r\n    }\r\n    .restoran-text {\r\n        font-size: 1em;\r\n    }\r\n    .restoran-body {\r\n        margin-top: 3%;\r\n    }\r\n    .restoran-image img {\r\n        max-width: 100%;\r\n        margin: auto;\r\n        height: 270px;\r\n        width: 400px;\r\n    }\r\n    .random-restoran .restoran-image {\r\n        height: auto;\r\n    }\r\n    .search-form {\r\n        width: 100%;\r\n    }\r\n    .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n    .restoran-reklama {\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n    .restoran-reklama .reklama-slika {\r\n        height: auto;\r\n    }\r\n    .pointer-content a {\r\n        position: relative;\r\n        top: 90%;\r\n    }\r\n}\r\n\r\n/* Small devices (landscape phones, 576px and up) */\r\n@media screen and (min-width: 481px) and (max-width: 767px){\r\n    .restoran-header {\r\n        margin-top: 25%;\r\n    }\r\n    .random-restoran {\r\n        height: 100%;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.5em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n    .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n\r\n}\r\n\r\n\r\n/* Medium devices (tablets, 768px and up) */\r\n@media screen and (min-width: 768px) and (max-width: 1023px){ \r\n    .restoran-header {\r\n        margin-top: 15%;\r\n    }\r\n    .random-restoran {\r\n        height: 100%;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.5em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n        .pointer-content a {\r\n        position: relative;\r\n        top: 90%;\r\n    } \r\n}\r\n\r\n\r\n/* Large devices (desktops, 992px and up) */\r\n@media screen and (min-width: 1023px) and (max-width: 1440px) { \r\n\r\n\r\n}\r\n\r\n@media screen and (min-width: 481px) and (max-width: 767px) and (orientation: landscape) { \r\n    .restoran-header {\r\n        margin-top: 15%;\r\n    }\r\n    .random-restoran {\r\n        height: auto;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.3em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n        margin-top: 15%;\r\n    }\r\n    .restoran-text {\r\n        font-size: 1em;\r\n    }\r\n    .restoran-body {\r\n        margin-top: 3%;\r\n    }\r\n    .restoran-image img {\r\n        max-width: 100%;\r\n        margin: auto;\r\n        height: 270px;\r\n        width: 400px;\r\n    }\r\n    .search-form {\r\n        width: 100%;\r\n    }\r\n    .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n    .restoran-reklama {\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n    .restoran-reklama .reklama-slika {\r\n        height: auto;\r\n    }\r\n    .pointer-content a {\r\n        position: relative;\r\n        top: 90%;\r\n        margin-top: 3%;\r\n        margin-bottom: 3%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 769px) and (max-width: 1023px) and (orientation: landscape) {\r\n.restoran-header {\r\n        margin-top: 15%;\r\n    }\r\n    .random-restoran {\r\n        height: auto;\r\n    }\r\n    .restoran-header .restoran-header-title {\r\n        font-size: 1.3em;\r\n    }\r\n    .random-restoran .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n    .restoran-text {\r\n        font-size: 1em;\r\n    }\r\n    .restoran-body {\r\n        margin-top: 3%;\r\n    }\r\n    .restoran-image img {\r\n        max-width: 100%;\r\n        margin: auto;\r\n        height: 270px;\r\n        width: 300px;\r\n    }\r\n    .search-form {\r\n        width: 100%;\r\n    }\r\n    .restoran-card {\r\n        flex-direction: column;\r\n    }\r\n    .restoran-reklama {\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n    .restoran-reklama .reklama-slika {\r\n        height: auto;\r\n    }\r\n    .pointer-content a {\r\n        position: relative;\r\n        top: 90%;\r\n    }\r\n}\r\n\r\n</style>\r\n"]}]}