{"remainingRequest":"/var/www/html/klopaba/frontend/node_modules/babel-loader/lib/index.js!/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/klopaba/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/klopaba/frontend/src/components/Komentar.vue?vue&type=script&lang=js","dependencies":[{"path":"/var/www/html/klopaba/frontend/src/components/Komentar.vue","mtime":1662887823526},{"path":"/var/www/html/klopaba/frontend/babel.config.js","mtime":1662887822653},{"path":"/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1663519176030},{"path":"/var/www/html/klopaba/frontend/node_modules/babel-loader/lib/index.js","mtime":1663519178002},{"path":"/var/www/html/klopaba/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1663519176030},{"path":"/var/www/html/klopaba/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1663519177866}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3Zhci93d3cvaHRtbC9rbG9wYWJhL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIktvbWVudGFyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga29tZW50YXI6IHsKICAgICAgICBpbWU6IG51bGwsCiAgICAgICAgcHJlemltZTogbnVsbCwKICAgICAgICB0ZXh0OiBudWxsLAogICAgICAgIHJhdGU6IG51bGwsCiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpCiAgICAgIH0sCiAgICAgIGNsaWNrZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnZ2V0UmVzdG9yYW4nXSkpLCB7fSwgewogICAgcG9zdEtvbWVudGFyOiBmdW5jdGlvbiBwb3N0S29tZW50YXIoKSB7CiAgICAgIGlmICghdGhpcy5rb21lbnRhci5pbWUgfHwgIXRoaXMua29tZW50YXIucHJlemltZSB8fCAhdGhpcy5rb21lbnRhci5yYXRlIHx8ICF0aGlzLmtvbWVudGFyLnRleHQpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29tZW50YXJFcnJvcicpLnN0eWxlLmNvbG9yID0gJ3JlZCc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvbWVudGFySW1lJykuc3R5bGUuY29sb3IgPSAncmVkJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29tZW50YXJQcmV6aW1lJykuc3R5bGUuY29sb3IgPSAncmVkJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29tZW50YXJPY2plbmEnKS5zdHlsZS5jb2xvciA9ICdyZWQnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb21lbnRhcicpLnN0eWxlLmNvbG9yID0gJ3JlZCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS9yZXN0b3Jhbi8iLmNvbmNhdCh0aGlzLnJlc3RvcmFuLl9pZCwgIi9rb21lbnRhciIpLCB7CiAgICAgICAgICBpbWU6IHRoaXMua29tZW50YXIuaW1lLAogICAgICAgICAgcHJlemltZTogdGhpcy5rb21lbnRhci5wcmV6aW1lLAogICAgICAgICAgcmF0ZTogdGhpcy5rb21lbnRhci5yYXRlLAogICAgICAgICAga29tZW50YXI6IHRoaXMua29tZW50YXIudGV4dAogICAgICAgIH0pLnRoZW4obG9jYXRpb24ucmVsb2FkKCkpOwogICAgICB9CiAgICB9LAogICAgemF0dm9yaUtvbWVudGFyOiBmdW5jdGlvbiB6YXR2b3JpS29tZW50YXIoKSB7CiAgICAgIHRoaXMua29tZW50YXIuaW1lID0gbnVsbCwgdGhpcy5rb21lbnRhci5wcmV6aW1lID0gbnVsbCwgdGhpcy5rb21lbnRhci50ZXh0ID0gbnVsbDsKICAgICAgdGhpcy5rb21lbnRhci5yYXRlID0gbnVsbDsKICAgICAgdGhpcy5jbGlja2VkID0gZmFsc2U7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb21lbnRhckVycm9yJykuc3R5bGUuY29sb3IgPSAnIzE4MjYyOCc7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydyZXN0b3JhbiddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UmVzdG9yYW4oKTsKICB9Cn07"},{"version":3,"mappings":";AAmFA,SAASA,UAAT,EAAqBC,UAArB,QAAuC,MAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACXC,MAAI,EAAE,UADK;AAEXC,MAFW,kBAEH;AACJ,WAAO;AACHC,cAAQ,EAAE;AACNC,WAAG,EAAE,IADC;AAENC,eAAO,EAAE,IAFH;AAGNC,YAAI,EAAE,IAHA;AAINC,YAAI,EAAE,IAJA;AAKNC,iBAAS,EAAE,IAAIC,IAAJ,GAAWC,kBAAX;AALL,OADP;AAQHC,aAAO,EAAE;AARN,KAAP;AAUH,GAbU;AAcXC,SAAO,kCACCd,UAAU,CAAC,CAAC,aAAD,CAAD,CADX;AAEHe,gBAFG,0BAEY;AACX,UAAI,CAAC,KAAKV,QAAL,CAAcC,GAAf,IAAsB,CAAC,KAAKD,QAAL,CAAcE,OAArC,IAAgD,CAAC,KAAKF,QAAL,CAAcI,IAA/D,IAAuE,CAAC,KAAKJ,QAAL,CAAcG,IAA1F,EAAgG;AAC5FQ,gBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,CAA+CC,KAA/C,GAAuD,KAAvD;AACAH,gBAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAvC,CAA6CC,KAA7C,GAAqD,KAArD;AACAH,gBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CC,KAA3C,CAAiDC,KAAjD,GAAyD,KAAzD;AACAH,gBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,KAA1C,CAAgDC,KAAhD,GAAwD,KAAxD;AACAH,gBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,KAA1C,GAAkD,KAAlD;AAEJ,OAPA,MAOO;AACHjB,aAAK,CAACkB,IAAN,yBAA4B,KAAKC,QAAL,CAAcC,GAA1C,gBAA0D;AACtDhB,aAAG,EAAE,KAAKD,QAAL,CAAcC,GADmC;AAEtDC,iBAAO,EAAE,KAAKF,QAAL,CAAcE,OAF+B;AAGtDE,cAAI,EAAE,KAAKJ,QAAL,CAAcI,IAHkC;AAItDJ,kBAAQ,EAAE,KAAKA,QAAL,CAAcG;AAJ8B,SAA1D,EAMCe,IAND,CAMOC,QAAQ,CAACC,MAAT,EANP;AAOJ;AAEH,KApBE;AAqBHC,mBArBG,6BAqBe;AACd,WAAKrB,QAAL,CAAcC,GAAd,GAAoB,IAApB,EACA,KAAKD,QAAL,CAAcE,OAAd,GAAwB,IADxB,EAEA,KAAKF,QAAL,CAAcG,IAAd,GAAqB,IAFrB;AAGA,WAAKH,QAAL,CAAcI,IAAd,GAAqB,IAArB;AACA,WAAKI,OAAL,GAAe,KAAf;AACAG,cAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,CAA+CC,KAA/C,GAAuD,SAAvD;AACJ;AA5BG,IAdI;AA4CXQ,UAAQ,oBACD1B,UAAU,CAAC,CAAC,UAAD,CAAD,CADT,CA5CG;AA+CX2B,SA/CW,qBA+CD;AACN,SAAKC,WAAL;AACJ;AAjDW,CAAf","names":["mapActions","mapGetters","axios","name","data","komentar","ime","prezime","text","rate","createdAt","Date","toLocaleDateString","clicked","methods","postKomentar","document","getElementById","style","color","post","restoran","_id","then","location","reload","zatvoriKomentar","computed","created","getRestoran"],"sourceRoot":"","sources":["/var/www/html/klopaba/frontend/src/components/Komentar.vue"],"sourcesContent":["<template>\r\n\r\n<div class=\"komentar-content container\" >\r\n\r\n    <form class=\"form-komentar\" @submit.prevent>\r\n        <div class=\"post-buttons\" v-if=\"!clicked\">\r\n            <button class=\"btn btn-lg btn-primary\" @click=\"clicked = !clicked\">\r\n                Dodaj Kometar\r\n            </button>\r\n\r\n        </div>\r\n\r\n        <div class=\"dodaj-komentar\" v-else>\r\n            <div class=\"komentar-header shadow-lg\">\r\n                <h4 class=\"komentar-title\">\r\n                    Ostavite vaš komentar za {{ restoran.restoran }}\r\n                </h4>\r\n                <small id=\"komentarError\">\r\n                    Polja označena sa * su obavezna polja. Hvala!\r\n                </small>\r\n            </div>\r\n            <!-- <div class=\"komentar-error mt-3\" id=\"komentarError\">\r\n                <h4 class=\"p-3\">\r\n                    Molimo unesite sva polja označena sa *. Hvala!\r\n                </h4>\r\n            </div> -->\r\n            <div class=\"form-row\">\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"ime\" id=\"komentarIme\">Ime *</label>\r\n                    <input type=\"text\" class=\"form-input\" v-model=\"komentar.ime\">\r\n                    <label for=\"prezime\" id=\"komentarPrezime\" class=\"mt-2\">Prezime *</label>\r\n                    <input type=\"text\" class=\"form-input\" v-model=\"komentar.prezime\" >\r\n                    <label for=\"rate\" id=\"komentarOcjena\" class=\"mt-2\">Ocjena: *</label>\r\n                    <div class=\"form-data radio-input\">\r\n                        <label for=\"rate\">\r\n                            <input type=\"radio\" name=\"rate\" id=\"rateJedan\" v-model=\"komentar.rate\" value=\"1\">\r\n                            <i class=\"fa-regular fa-face-angry\"></i>\r\n                        </label>\r\n\r\n                        <label for=\"rate\">\r\n                            <input type=\"radio\" name=\"rate\" id=\"rateJedan\" v-model=\"komentar.rate\" value=\"2\">\r\n                            <i class=\"fa-regular fa-face-frown-open\"></i>\r\n                        </label>\r\n\r\n                        <label for=\"rate\">\r\n                            <input type=\"radio\" name=\"rate\" id=\"rateJedan\" v-model=\"komentar.rate\" value=\"3\">\r\n                            <i class=\"fa-regular fa-face-meh\"></i>\r\n                        </label>\r\n\r\n                        <label for=\"rate\">\r\n                            <input type=\"radio\" name=\"rate\" id=\"rateJedan\" v-model=\"komentar.rate\" value=\"4\">\r\n                            <i class=\"fa-regular fa-face-grin\"></i>\r\n                        </label>\r\n\r\n                        <label for=\"rate\">\r\n                            <input type=\"radio\" name=\"rate\" id=\"rateJedan\" v-model=\"komentar.rate\" value=\"5\">\r\n                            <i class=\"fa-regular fa-face-grin-hearts\"></i>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"komentar\" id=\"komentarText\" class=\"mt-2\">Komentar *: </label>\r\n                    <textarea class=\"form-input\" v-model=\"komentar.text\" name=\"komentar\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-buttons\">\r\n                <button class=\"btn btn-warning btn-lg\" @click=\"zatvoriKomentar()\">\r\n                    Zatvori\r\n                </button>\r\n                <button class=\"btn btn-lg btn-primary\" @click=\"postKomentar()\">\r\n                    Pošalji\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n    </form>\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: \"Komentar\",\r\n    data () {\r\n        return {\r\n            komentar: {\r\n                ime: null,\r\n                prezime: null,\r\n                text: null,\r\n                rate: null,\r\n                createdAt: new Date().toLocaleDateString()\r\n            },\r\n            clicked: false\r\n        }\r\n    },\r\n    methods: {\r\n         ...mapActions(['getRestoran']),\r\n        postKomentar() {\r\n            if (!this.komentar.ime || !this.komentar.prezime || !this.komentar.rate || !this.komentar.text) {\r\n                document.getElementById('komentarError').style.color = 'red'\r\n                document.getElementById('komentarIme').style.color = 'red'\r\n                document.getElementById('komentarPrezime').style.color = 'red'\r\n                document.getElementById('komentarOcjena').style.color = 'red'\r\n                document.getElementById('komentar').style.color = 'red'\r\n\r\n            } else {\r\n                axios.post(`/api/restoran/${this.restoran._id}/komentar`, {\r\n                    ime: this.komentar.ime,\r\n                    prezime: this.komentar.prezime,\r\n                    rate: this.komentar.rate,\r\n                    komentar: this.komentar.text\r\n                })\r\n                .then( location.reload() )\r\n            }\r\n\r\n        },\r\n        zatvoriKomentar() {\r\n            this.komentar.ime = null,\r\n            this.komentar.prezime = null,\r\n            this.komentar.text = null\r\n            this.komentar.rate = null\r\n            this.clicked = false\r\n            document.getElementById('komentarError').style.color = '#182628'\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['restoran'])\r\n    },\r\n    created() {\r\n        this.getRestoran()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dodaj-komentar {\r\n    max-width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n.post-buttons {\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: space-evenly;\r\n    padding: 1rem;\r\n}\r\n.komentar-header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 1rem;\r\n    background-color: rgba(244, 211, 73, 0.8);\r\n    color: #000;\r\n    font-weight: bold;\r\n    width: 60%;\r\n}\r\n\r\n.dodaj-komentar .form-row {\r\n    flex-direction: column;\r\n    padding: 1rem;\r\n}\r\n\r\n.radio-input {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    border: 2px solid #000;\r\n    box-shadow: 0.3rem 0.3rem 1rem rgba(0, 0, 0, 0.5)!important;\r\n}\r\n\r\n.radio-input svg {\r\n    height: 30px;\r\n    padding: 0.5rem;\r\n}\r\n\r\n.radio-input input[type=\"radio\"] {\r\n    opacity: 0;\r\n    position: absolute;\r\n    width: 50px;\r\n    height: 50px;\r\n    cursor: pointer;\r\n\r\n}\r\n\r\n.radio-input input[type=\"radio\"] + svg{\r\n    border-radius: 50%;\r\n    color: red;\r\n}\r\n\r\n.radio-input input[type=\"radio\"]:checked + svg{\r\n    color: #008000;\r\n}\r\n\r\n.form-komentar .form-row {\r\n    width: 60%;\r\n    flex-direction: column;\r\n}\r\n\r\n.form-komentar .form-group {\r\n    flex-direction: column;\r\n    display: flex;\r\n}\r\n\r\n.form-komentar .form-group label {\r\n    padding: 0.5rem;\r\n}\r\n\r\n.form-komentar .radio-input {\r\n    padding: 0.5rem;\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.form-komentar .form-buttons {\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.komentar-error {\r\n    display: none;\r\n}\r\n.komentar-error h4 {\r\n    color: red;\r\n}\r\n\r\n@media screen and (max-width: 349px) {\r\n     .komentar-header {\r\n        width: 100%;\r\n    }   \r\n    .komentar-title {\r\n        font-size: 1em;\r\n    }\r\n    .form-komentar .form-row {\r\n        width: 100%;\r\n        flex-direction: column;\r\n    }\r\n    .form-komentar .form-group label {\r\n        padding: 0;\r\n    }\r\n    .komentar-error h4 {\r\n        width: 100%;\r\n        font-size: 1em;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 350px) and (max-width: 480px) {\r\n    .komentar-header {\r\n        width: 100%;\r\n    }   \r\n    .komentar-title {\r\n        font-size: 1em;\r\n    }\r\n    .form-komentar .form-row {\r\n        width: 100%;\r\n        flex-direction: column;\r\n    }\r\n}\r\n\r\n/* Small devices (landscape phones, 576px and up) */\r\n@media screen and (min-width: 481px) and (max-width: 767px){    \r\n    .komentar-header {\r\n        width: 100%;\r\n    }\r\n    .form-komentar .form-row {\r\n        width: 100%;\r\n    }\r\n    .form-group {\r\n        margin: 0;\r\n    }\r\n    .komentar-title {\r\n        font-size: 1.2em;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 481px) and (max-width: 767px) and (orientation: landscape) { \r\n    .komentar-header {\r\n        width: 100%;\r\n    }   \r\n        .form-komentar .form-row {\r\n        width: 100%;\r\n    }\r\n    .komentar-title {\r\n        font-size: 1em;\r\n    }\r\n}\r\n/* Medium devices (tablets, 768px and up) */\r\n@media screen and (min-width: 768px) and (max-width: 1023px){ \r\n    .komentar-header {\r\n        width: 100%;\r\n    } \r\n    .form-komentar .form-row {\r\n        width: 100%;\r\n    }\r\n    .komentar-title {\r\n        font-size:1em;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 769px) and (max-width: 1023px) and (orientation: landscape) {\r\n    .komentar-header {\r\n        width: 100%;\r\n    }   \r\n    .komentar-title {\r\n        font-size: 1em;\r\n    }\r\n}\r\n\r\n/* Large devices (desktops, 992px and up) */\r\n@media screen and (min-width: 1023px) and (max-width: 1440px) { \r\n\r\n}\r\n\r\n</style>"]}]}